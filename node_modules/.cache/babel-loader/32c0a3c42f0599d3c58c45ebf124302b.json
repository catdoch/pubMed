{"ast":null,"code":"var _jsxFileName = \"/Users/cdocherty/Projects/pubMed/src/components/input.tsx\";\nimport React, { Component } from 'react';\nimport SearchButton from './search-button';\n/**\n * NOTE seems @types/react is not handling defaultProps for\n * class components properly, so we take following approach.\n */\n\nconst defaultProps = {\n  inputRef: () => {},\n  onInput: () => {}\n};\n\nclass Input extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      value: ''\n    };\n    this.input = void 0;\n\n    this.handleClear = () => {\n      this.input.value = '';\n      const event = new Event('input', {\n        bubbles: true\n      });\n      this.input.dispatchEvent(event);\n      this.input.focus();\n    };\n\n    this.handleInput = event => {\n      this.setState({\n        value: event.currentTarget.value\n      });\n      const {\n        onInput\n      } = this.props;\n      onInput(event);\n    };\n\n    this.handleInputRef = element => {\n      this.input = element;\n      const {\n        inputRef\n      } = this.props;\n      inputRef(element);\n    };\n  }\n\n  render() {\n    const {\n      id,\n      name = id,\n      inputRef: _,\n      placeholder,\n      className,\n      ...props\n    } = this.props;\n    const {\n      value\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `form-container-input ${className}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({}, props, {\n      type: \"text\",\n      id: id,\n      value: value,\n      placeholder: placeholder,\n      name: name,\n      onChange: this.handleInput,\n      ref: this.handleInputRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    })), (value === null || value === void 0 ? void 0 : value.length) > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n      \"aria-label\": \"Clear input\",\n      type: \"button\",\n      className: \"input-clear\",\n      onClick: this.handleClear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, \"x\"), /*#__PURE__*/React.createElement(SearchButton, {\n      value: value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    })));\n  }\n\n}\n\nInput.defaultProps = defaultProps;\nexport default Input;","map":{"version":3,"sources":["/Users/cdocherty/Projects/pubMed/src/components/input.tsx"],"names":["React","Component","SearchButton","defaultProps","inputRef","onInput","Input","state","value","input","handleClear","event","Event","bubbles","dispatchEvent","focus","handleInput","setState","currentTarget","props","handleInputRef","element","render","id","name","_","placeholder","className","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,YAAP,MAAyB,iBAAzB;AAEA;;;;;AAaA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAE,MAAM,CAAE,CADD;AAEjBC,EAAAA,OAAO,EAAE,MAAM,CAAE;AAFA,CAArB;;AAWA,MAAMC,KAAN,SAAoBL,SAApB,CAA4C;AAAA;AAAA;AAAA,SAGxCM,KAHwC,GAGhC;AACJC,MAAAA,KAAK,EAAE;AADH,KAHgC;AAAA,SAQhCC,KARgC;;AAAA,SAUxCC,WAVwC,GAU1B,MAAM;AAChB,WAAKD,KAAL,CAAWD,KAAX,GAAmB,EAAnB;AACA,YAAMG,KAAK,GAAG,IAAIC,KAAJ,CAAU,OAAV,EAAmB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAnB,CAAd;AACA,WAAKJ,KAAL,CAAWK,aAAX,CAAyBH,KAAzB;AACA,WAAKF,KAAL,CAAWM,KAAX;AACH,KAfuC;;AAAA,SAiBxCC,WAjBwC,GAiBzBL,KAAD,IAAgB;AAC1B,WAAKM,QAAL,CAAc;AACVT,QAAAA,KAAK,EAAEG,KAAK,CAACO,aAAN,CAAoBV;AADjB,OAAd;AAGA,YAAM;AAAEH,QAAAA;AAAF,UAAc,KAAKc,KAAzB;AACAd,MAAAA,OAAO,CAACM,KAAD,CAAP;AACH,KAvBuC;;AAAA,SAyBxCS,cAzBwC,GAyBtBC,OAAD,IAA+B;AAC5C,WAAKZ,KAAL,GAAaY,OAAb;AACA,YAAM;AAAEjB,QAAAA;AAAF,UAAe,KAAKe,KAA1B;AACAf,MAAAA,QAAQ,CAACiB,OAAD,CAAR;AAEH,KA9BuC;AAAA;;AAgCxCC,EAAAA,MAAM,GAAG;AACL,UAAM;AACFC,MAAAA,EADE;AAEFC,MAAAA,IAAI,GAAGD,EAFL;AAGFnB,MAAAA,QAAQ,EAAEqB,CAHR;AAIFC,MAAAA,WAJE;AAKFC,MAAAA,SALE;AAMF,SAAGR;AAND,QAOF,KAAKA,KAPT;AASA,UAAM;AAAEX,MAAAA;AAAF,QAAY,KAAKD,KAAvB;AAEA,wBACI;AAAK,MAAA,SAAS,EAAG,wBAAuBoB,SAAU,EAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,+CACQR,KADR;AAEI,MAAA,IAAI,EAAC,MAFT;AAGI,MAAA,EAAE,EAAEI,EAHR;AAII,MAAA,KAAK,EAAEf,KAJX;AAKI,MAAA,WAAW,EAAEkB,WALjB;AAMI,MAAA,IAAI,EAAEF,IANV;AAOI,MAAA,QAAQ,EAAE,KAAKR,WAPnB;AAQI,MAAA,GAAG,EAAE,KAAKI,cARd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADJ,EAWK,CAAAZ,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEoB,MAAP,IAAgB,CAAhB,iBACG,uDACI;AACI,oBAAW,aADf;AAEI,MAAA,IAAI,EAAC,QAFT;AAGI,MAAA,SAAS,EAAC,aAHd;AAII,MAAA,OAAO,EAAE,KAAKlB,WAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,eAOI,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAEF,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,CAZR,CADJ;AAyBH;;AArEuC;;AAAtCF,K,CACKH,Y,GAAeA,Y;AAuE1B,eAAeG,KAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport SearchButton from './search-button';\n\n/**\n * NOTE seems @types/react is not handling defaultProps for\n * class components properly, so we take following approach.\n */\ninterface OwnProps {\n    id: string;\n    placeholder?: string;\n    className?: string;\n    inputRef?: (...args: any[]) => void;\n    name?: string;\n    onInput?: (...args: any[]) => void;\n}\n\nconst defaultProps = {\n    inputRef: () => {},\n    onInput: () => {},\n};\n\ntype Props = OwnProps & typeof defaultProps;\n\ninterface State {\n    value: string;\n}\n\nclass Input extends Component<Props, State> {\n    static defaultProps = defaultProps;\n\n    state = {\n        value: ''\n    };\n\n    /** Initialised in `handleInputRef`. */\n    private input!: HTMLInputElement;\n\n    handleClear = () => {\n        this.input.value = '';\n        const event = new Event('input', { bubbles: true });\n        this.input.dispatchEvent(event);\n        this.input.focus();\n    };\n\n    handleInput = (event: any) => {\n        this.setState({\n            value: event.currentTarget.value,\n        });\n        const { onInput } = this.props;\n        onInput(event);\n    };\n\n    handleInputRef = (element: HTMLInputElement) => {\n        this.input = element;\n        const { inputRef } = this.props;\n        inputRef(element);\n        \n    };\n\n    render() {\n        const {\n            id,\n            name = id,\n            inputRef: _,\n            placeholder,\n            className,\n            ...props\n        } = this.props;\n\n        const { value } = this.state;\n\n        return (\n            <div className={`form-container-input ${className}`}>\n                <input\n                    {...props}\n                    type=\"text\"\n                    id={id}\n                    value={value}\n                    placeholder={placeholder}\n                    name={name}\n                    onChange={this.handleInput}\n                    ref={this.handleInputRef}\n                />\n                {value?.length > 0 && (\n                    <>\n                        <button\n                            aria-label=\"Clear input\"\n                            type=\"button\"\n                            className=\"input-clear\"\n                            onClick={this.handleClear}\n                        >x</button>\n                        <SearchButton value={value} />\n                    </>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default Input;\n"]},"metadata":{},"sourceType":"module"}