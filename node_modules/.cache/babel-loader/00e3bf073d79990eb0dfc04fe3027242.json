{"ast":null,"code":"var _jsxFileName = \"/Users/cdocherty/Projects/pubMed/app/src/components/input.tsx\";\nimport React, { Component } from 'react';\nimport SearchButton from './search-button';\n/**\n * NOTE seems @types/react is not handling defaultProps for\n * class components properly, so we take following approach.\n */\n\nconst defaultProps = {\n  defaultValue: '',\n  inline: false,\n  inputRef: () => {},\n  onInput: () => {},\n  type: 'text'\n};\n\nclass Input extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      hasValue: !!this.props.defaultValue,\n      value: ''\n    };\n    this.input = void 0;\n\n    this.handleClear = () => {\n      this.input.value = '';\n      const event = new Event('input', {\n        bubbles: true\n      });\n      this.input.dispatchEvent(event);\n      this.input.focus();\n    };\n\n    this.handleInput = event => {\n      this.setState({\n        hasValue: !!this.input.value,\n        value: event.currentTarget\n      });\n      const {\n        onInput\n      } = this.props;\n      onInput(event);\n    };\n\n    this.handleInputRef = element => {\n      this.input = element;\n      const {\n        inputRef\n      } = this.props;\n      inputRef(element);\n    };\n  }\n\n  render() {\n    const {\n      id,\n      inline,\n      name = id,\n      type,\n      inputRef: _,\n      placeholder,\n      errorMessages: __,\n      ...props\n    } = this.props;\n    const {\n      hasValue,\n      value\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-container-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({}, props, {\n      type: \"input\",\n      id: id,\n      value: value,\n      placeholder: placeholder,\n      name: name,\n      onChange: this.handleInput,\n      ref: this.handleInputRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    })), hasValue && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n      \"aria-label\": \"Clear input\",\n      type: \"button\",\n      className: \"input-clear\",\n      onClick: this.handleClear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, \"x\"), /*#__PURE__*/React.createElement(SearchButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    })));\n  }\n\n}\n\nInput.defaultProps = defaultProps;\nexport default Input;","map":{"version":3,"sources":["/Users/cdocherty/Projects/pubMed/app/src/components/input.tsx"],"names":["React","Component","SearchButton","defaultProps","defaultValue","inline","inputRef","onInput","type","Input","state","hasValue","props","value","input","handleClear","event","Event","bubbles","dispatchEvent","focus","handleInput","setState","currentTarget","handleInputRef","element","render","id","name","_","placeholder","errorMessages","__"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,YAAP,MAAyB,iBAAzB;AAEA;;;;;AAkBA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,YAAY,EAAE,EADG;AAEjBC,EAAAA,MAAM,EAAE,KAFS;AAGjBC,EAAAA,QAAQ,EAAE,MAAM,CAAE,CAHD;AAIjBC,EAAAA,OAAO,EAAE,MAAM,CAAE,CAJA;AAKjBC,EAAAA,IAAI,EAAE;AALW,CAArB;;AAeA,MAAMC,KAAN,SAAoBR,SAApB,CAA4C;AAAA;AAAA;AAAA,SAGxCS,KAHwC,GAGhC;AACJC,MAAAA,QAAQ,EAAE,CAAC,CAAC,KAAKC,KAAL,CAAWR,YADnB;AAEJS,MAAAA,KAAK,EAAE;AAFH,KAHgC;AAAA,SAShCC,KATgC;;AAAA,SAWxCC,WAXwC,GAW1B,MAAM;AAChB,WAAKD,KAAL,CAAWD,KAAX,GAAmB,EAAnB;AACA,YAAMG,KAAK,GAAG,IAAIC,KAAJ,CAAU,OAAV,EAAmB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAnB,CAAd;AACA,WAAKJ,KAAL,CAAWK,aAAX,CAAyBH,KAAzB;AACA,WAAKF,KAAL,CAAWM,KAAX;AACH,KAhBuC;;AAAA,SAkBxCC,WAlBwC,GAkBzBL,KAAD,IAAgB;AAC1B,WAAKM,QAAL,CAAc;AACVX,QAAAA,QAAQ,EAAE,CAAC,CAAC,KAAKG,KAAL,CAAWD,KADb;AAEVA,QAAAA,KAAK,EAAEG,KAAK,CAACO;AAFH,OAAd;AAIA,YAAM;AAAEhB,QAAAA;AAAF,UAAc,KAAKK,KAAzB;AACAL,MAAAA,OAAO,CAACS,KAAD,CAAP;AACH,KAzBuC;;AAAA,SA2BxCQ,cA3BwC,GA2BtBC,OAAD,IAA+B;AAC5C,WAAKX,KAAL,GAAaW,OAAb;AACA,YAAM;AAAEnB,QAAAA;AAAF,UAAe,KAAKM,KAA1B;AACAN,MAAAA,QAAQ,CAACmB,OAAD,CAAR;AAEH,KAhCuC;AAAA;;AAkCxCC,EAAAA,MAAM,GAAG;AACL,UAAM;AACFC,MAAAA,EADE;AAEFtB,MAAAA,MAFE;AAGFuB,MAAAA,IAAI,GAAGD,EAHL;AAIFnB,MAAAA,IAJE;AAKFF,MAAAA,QAAQ,EAAEuB,CALR;AAMFC,MAAAA,WANE;AAOFC,MAAAA,aAAa,EAAEC,EAPb;AAQF,SAAGpB;AARD,QASF,KAAKA,KATT;AAWA,UAAM;AAAED,MAAAA,QAAF;AAAYE,MAAAA;AAAZ,QAAsB,KAAKH,KAAjC;AAEA,wBACI;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,+CACQE,KADR;AAEI,MAAA,IAAI,EAAC,OAFT;AAGI,MAAA,EAAE,EAAEe,EAHR;AAII,MAAA,KAAK,EAAEd,KAJX;AAKI,MAAA,WAAW,EAAEiB,WALjB;AAMI,MAAA,IAAI,EAAEF,IANV;AAOI,MAAA,QAAQ,EAAE,KAAKP,WAPnB;AAQI,MAAA,GAAG,EAAE,KAAKG,cARd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADJ,EAWKb,QAAQ,iBACL,uDACI;AACI,oBAAW,aADf;AAEI,MAAA,IAAI,EAAC,QAFT;AAGI,MAAA,SAAS,EAAC,aAHd;AAII,MAAA,OAAO,EAAE,KAAKI,WAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,eAOI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,CAZR,CADJ;AAyBH;;AAzEuC;;AAAtCN,K,CACKN,Y,GAAeA,Y;AA2E1B,eAAeM,KAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport SearchButton from './search-button';\n\n/**\n * NOTE seems @types/react is not handling defaultProps for\n * class components properly, so we take following approach.\n */\ninterface OwnProps {\n    defaultValue?: string;\n    id: string;\n    inline?: boolean;\n    placeholder?: string;\n    inputRef?: (...args: any[]) => void;\n    name?: string;\n    onInput?: (...args: any[]) => void;\n    type?: string;\n    /**\n     * Can be passed down from `Field` component.\n     */\n    errorMessages?: any;\n}\nconst defaultProps = {\n    defaultValue: '',\n    inline: false,\n    inputRef: () => {},\n    onInput: () => {},\n    type: 'text',\n};\n\ntype Props = OwnProps & typeof defaultProps;\n\ninterface State {\n    hasValue: boolean;\n    value: string;\n}\n\nclass Input extends Component<Props, State> {\n    static defaultProps = defaultProps;\n\n    state = {\n        hasValue: !!this.props.defaultValue,\n        value: ''\n    };\n\n    /** Initialised in `handleInputRef`. */\n    private input!: HTMLInputElement;\n\n    handleClear = () => {\n        this.input.value = '';\n        const event = new Event('input', { bubbles: true });\n        this.input.dispatchEvent(event);\n        this.input.focus();\n    };\n\n    handleInput = (event: any) => {\n        this.setState({\n            hasValue: !!this.input.value,\n            value: event.currentTarget,\n        });\n        const { onInput } = this.props;\n        onInput(event);\n    };\n\n    handleInputRef = (element: HTMLInputElement) => {\n        this.input = element;\n        const { inputRef } = this.props;\n        inputRef(element);\n        \n    };\n\n    render() {\n        const {\n            id,\n            inline,\n            name = id,\n            type,\n            inputRef: _,\n            placeholder,\n            errorMessages: __,\n            ...props\n        } = this.props;\n\n        const { hasValue, value } = this.state;\n\n        return (\n            <div className=\"form-container-input\">\n                <input\n                    {...props}\n                    type=\"input\"\n                    id={id}\n                    value={value}\n                    placeholder={placeholder}\n                    name={name}\n                    onChange={this.handleInput}\n                    ref={this.handleInputRef}\n                />\n                {hasValue && (\n                    <>\n                        <button\n                            aria-label=\"Clear input\"\n                            type=\"button\"\n                            className=\"input-clear\"\n                            onClick={this.handleClear}\n                        >x</button>\n                        <SearchButton />\n                    </>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default Input;\n"]},"metadata":{},"sourceType":"module"}