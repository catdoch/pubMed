{"ast":null,"code":"var _jsxFileName = \"/Users/cdocherty/Projects/pubMed/app/src/components/input.tsx\";\nimport React, { Component } from 'react';\nimport SearchButton from './search-button';\n/**\n * NOTE seems @types/react is not handling defaultProps for\n * class components properly, so we take following approach.\n */\n\nconst defaultProps = {\n  inline: false,\n  inputRef: () => {},\n  onInput: () => {},\n  type: 'text'\n};\n\nclass Input extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      value: ''\n    };\n    this.input = void 0;\n\n    this.handleClear = () => {\n      this.input.value = '';\n      const event = new Event('input', {\n        bubbles: true\n      });\n      this.input.dispatchEvent(event);\n      this.input.focus();\n    };\n\n    this.handleInput = event => {\n      this.setState({\n        value: event.currentTarget.value\n      });\n      const {\n        onInput\n      } = this.props;\n      onInput(event);\n    };\n\n    this.handleInputRef = element => {\n      this.input = element;\n      const {\n        inputRef\n      } = this.props;\n      inputRef(element);\n    };\n  }\n\n  render() {\n    const {\n      id,\n      inline,\n      name = id,\n      type,\n      inputRef: _,\n      placeholder,\n      errorMessages: __,\n      ...props\n    } = this.props;\n    const {\n      value\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-container-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", Object.assign({}, props, {\n      type: \"input\",\n      id: id,\n      value: value,\n      placeholder: placeholder,\n      name: name,\n      onChange: this.handleInput,\n      ref: this.handleInputRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    })), (value === null || value === void 0 ? void 0 : value.length) > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n      \"aria-label\": \"Clear input\",\n      type: \"button\",\n      className: \"input-clear\",\n      onClick: this.handleClear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, \"x\"), /*#__PURE__*/React.createElement(SearchButton, {\n      value: value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    })));\n  }\n\n}\n\nInput.defaultProps = defaultProps;\nexport default Input;","map":{"version":3,"sources":["/Users/cdocherty/Projects/pubMed/app/src/components/input.tsx"],"names":["React","Component","SearchButton","defaultProps","inline","inputRef","onInput","type","Input","state","value","input","handleClear","event","Event","bubbles","dispatchEvent","focus","handleInput","setState","currentTarget","props","handleInputRef","element","render","id","name","_","placeholder","errorMessages","__","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,YAAP,MAAyB,iBAAzB;AAEA;;;;;AAiBA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,MAAM,EAAE,KADS;AAEjBC,EAAAA,QAAQ,EAAE,MAAM,CAAE,CAFD;AAGjBC,EAAAA,OAAO,EAAE,MAAM,CAAE,CAHA;AAIjBC,EAAAA,IAAI,EAAE;AAJW,CAArB;;AAaA,MAAMC,KAAN,SAAoBP,SAApB,CAA4C;AAAA;AAAA;AAAA,SAGxCQ,KAHwC,GAGhC;AACJC,MAAAA,KAAK,EAAE;AADH,KAHgC;AAAA,SAQhCC,KARgC;;AAAA,SAUxCC,WAVwC,GAU1B,MAAM;AAChB,WAAKD,KAAL,CAAWD,KAAX,GAAmB,EAAnB;AACA,YAAMG,KAAK,GAAG,IAAIC,KAAJ,CAAU,OAAV,EAAmB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAnB,CAAd;AACA,WAAKJ,KAAL,CAAWK,aAAX,CAAyBH,KAAzB;AACA,WAAKF,KAAL,CAAWM,KAAX;AACH,KAfuC;;AAAA,SAiBxCC,WAjBwC,GAiBzBL,KAAD,IAAgB;AAC1B,WAAKM,QAAL,CAAc;AACVT,QAAAA,KAAK,EAAEG,KAAK,CAACO,aAAN,CAAoBV;AADjB,OAAd;AAGA,YAAM;AAAEJ,QAAAA;AAAF,UAAc,KAAKe,KAAzB;AACAf,MAAAA,OAAO,CAACO,KAAD,CAAP;AACH,KAvBuC;;AAAA,SAyBxCS,cAzBwC,GAyBtBC,OAAD,IAA+B;AAC5C,WAAKZ,KAAL,GAAaY,OAAb;AACA,YAAM;AAAElB,QAAAA;AAAF,UAAe,KAAKgB,KAA1B;AACAhB,MAAAA,QAAQ,CAACkB,OAAD,CAAR;AAEH,KA9BuC;AAAA;;AAgCxCC,EAAAA,MAAM,GAAG;AACL,UAAM;AACFC,MAAAA,EADE;AAEFrB,MAAAA,MAFE;AAGFsB,MAAAA,IAAI,GAAGD,EAHL;AAIFlB,MAAAA,IAJE;AAKFF,MAAAA,QAAQ,EAAEsB,CALR;AAMFC,MAAAA,WANE;AAOFC,MAAAA,aAAa,EAAEC,EAPb;AAQF,SAAGT;AARD,QASF,KAAKA,KATT;AAWA,UAAM;AAAEX,MAAAA;AAAF,QAAY,KAAKD,KAAvB;AAEA,wBACI;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,+CACQY,KADR;AAEI,MAAA,IAAI,EAAC,OAFT;AAGI,MAAA,EAAE,EAAEI,EAHR;AAII,MAAA,KAAK,EAAEf,KAJX;AAKI,MAAA,WAAW,EAAEkB,WALjB;AAMI,MAAA,IAAI,EAAEF,IANV;AAOI,MAAA,QAAQ,EAAE,KAAKR,WAPnB;AAQI,MAAA,GAAG,EAAE,KAAKI,cARd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADJ,EAWK,CAAAZ,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEqB,MAAP,IAAgB,CAAhB,iBACG,uDACI;AACI,oBAAW,aADf;AAEI,MAAA,IAAI,EAAC,QAFT;AAGI,MAAA,SAAS,EAAC,aAHd;AAII,MAAA,OAAO,EAAE,KAAKnB,WAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,eAOI,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAEF,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,CAZR,CADJ;AAyBH;;AAvEuC;;AAAtCF,K,CACKL,Y,GAAeA,Y;AAyE1B,eAAeK,KAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport SearchButton from './search-button';\n\n/**\n * NOTE seems @types/react is not handling defaultProps for\n * class components properly, so we take following approach.\n */\ninterface OwnProps {\n    id: string;\n    inline?: boolean;\n    placeholder?: string;\n    inputRef?: (...args: any[]) => void;\n    name?: string;\n    onInput?: (...args: any[]) => void;\n    type?: string;\n    /**\n     * Can be passed down from `Field` component.\n     */\n    errorMessages?: any;\n}\nconst defaultProps = {\n    inline: false,\n    inputRef: () => {},\n    onInput: () => {},\n    type: 'text',\n};\n\ntype Props = OwnProps & typeof defaultProps;\n\ninterface State {\n    value: string;\n}\n\nclass Input extends Component<Props, State> {\n    static defaultProps = defaultProps;\n\n    state = {\n        value: ''\n    };\n\n    /** Initialised in `handleInputRef`. */\n    private input!: HTMLInputElement;\n\n    handleClear = () => {\n        this.input.value = '';\n        const event = new Event('input', { bubbles: true });\n        this.input.dispatchEvent(event);\n        this.input.focus();\n    };\n\n    handleInput = (event: any) => {\n        this.setState({\n            value: event.currentTarget.value,\n        });\n        const { onInput } = this.props;\n        onInput(event);\n    };\n\n    handleInputRef = (element: HTMLInputElement) => {\n        this.input = element;\n        const { inputRef } = this.props;\n        inputRef(element);\n        \n    };\n\n    render() {\n        const {\n            id,\n            inline,\n            name = id,\n            type,\n            inputRef: _,\n            placeholder,\n            errorMessages: __,\n            ...props\n        } = this.props;\n\n        const { value } = this.state;\n\n        return (\n            <div className=\"form-container-input\">\n                <input\n                    {...props}\n                    type=\"input\"\n                    id={id}\n                    value={value}\n                    placeholder={placeholder}\n                    name={name}\n                    onChange={this.handleInput}\n                    ref={this.handleInputRef}\n                />\n                {value?.length > 0 && (\n                    <>\n                        <button\n                            aria-label=\"Clear input\"\n                            type=\"button\"\n                            className=\"input-clear\"\n                            onClick={this.handleClear}\n                        >x</button>\n                        <SearchButton value={value} />\n                    </>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default Input;\n"]},"metadata":{},"sourceType":"module"}