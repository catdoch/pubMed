{"ast":null,"code":"var _jsxFileName = \"/Users/cdocherty/Projects/pubMed/app/src/components/search-button.jsx\";\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCount, getIds } from '../redux/actions'; // interface Props {\n//     value?: string;\n// }\n\nconst SearchButton = props => {\n  const {\n    data: {\n      ids\n    }\n  } = useSelector(state => state);\n\n  const listJournalsEvent = async () => {\n    const idJoin = ids.join(',');\n    console.log(idJoin); // fetch(\n    //     `https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json&id=${idJoin}`\n    // )\n    //     .then((response) => response.json())\n    //     .then((data) => {\n    //         console.log(data);\n    //     });\n  };\n\n  const sendEvent = async (value, dispatch) => {\n    const response = await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&retmax=20&retmode=json&term=${value}`);\n    const json = await response.json();\n    dispatch(getCount(json));\n    dispatch(getIds(json));\n    listJournalsEvent();\n  };\n\n  const {\n    value\n  } = props;\n  const dispatch = useDispatch();\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: \"input-search\",\n    onClick: () => {\n      sendEvent(value, dispatch);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, \"Search now\");\n};\n\nexport default SearchButton;","map":{"version":3,"sources":["/Users/cdocherty/Projects/pubMed/app/src/components/search-button.jsx"],"names":["React","useDispatch","useSelector","getCount","getIds","SearchButton","props","data","ids","state","listJournalsEvent","idJoin","join","console","log","sendEvent","value","dispatch","response","fetch","json"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,kBAAjC,C,CAEA;AACA;AACA;;AAEA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAC5B,QAAM;AACFC,IAAAA,IAAI,EAAE;AAAEC,MAAAA;AAAF;AADJ,MAEFN,WAAW,CAAEO,KAAD,IAAWA,KAAZ,CAFf;;AAIA,QAAMC,iBAAiB,GAAG,YAAY;AAClC,UAAMC,MAAM,GAAGH,GAAG,CAACI,IAAJ,CAAS,GAAT,CAAf;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ,EAFkC,CAGlC;AACA;AACA;AACA;AACA;AACA;AACA;AACH,GAVD;;AAYA,QAAMI,SAAS,GAAG,OAAOC,KAAP,EAAcC,QAAd,KAA2B;AACzC,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,oGAAmGH,KAAM,EAA3G,CAA5B;AACA,UAAMI,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAT,EAAnB;AACAH,IAAAA,QAAQ,CAACd,QAAQ,CAACiB,IAAD,CAAT,CAAR;AACAH,IAAAA,QAAQ,CAACb,MAAM,CAACgB,IAAD,CAAP,CAAR;AACAV,IAAAA,iBAAiB;AACpB,GAND;;AAQA,QAAM;AAAEM,IAAAA;AAAF,MAAYV,KAAlB;AACA,QAAMW,QAAQ,GAAGhB,WAAW,EAA5B;AAEA,sBACI;AACI,IAAA,SAAS,EAAC,cADd;AAEI,IAAA,OAAO,EAAE,MAAM;AACXc,MAAAA,SAAS,CAACC,KAAD,EAAQC,QAAR,CAAT;AACH,KAJL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ;AASH,CArCD;;AAuCA,eAAeZ,YAAf","sourcesContent":["import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCount, getIds } from '../redux/actions';\n\n// interface Props {\n//     value?: string;\n// }\n\nconst SearchButton = (props) => {\n    const {\n        data: { ids },\n    } = useSelector((state) => state);\n\n    const listJournalsEvent = async () => {\n        const idJoin = ids.join(',');\n        console.log(idJoin);\n        // fetch(\n        //     `https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json&id=${idJoin}`\n        // )\n        //     .then((response) => response.json())\n        //     .then((data) => {\n        //         console.log(data);\n        //     });\n    };\n\n    const sendEvent = async (value, dispatch) => {\n        const response = await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&retmax=20&retmode=json&term=${value}`);\n        const json = await response.json();\n        dispatch(getCount(json));\n        dispatch(getIds(json));\n        listJournalsEvent();\n    };\n\n    const { value } = props;\n    const dispatch = useDispatch();\n\n    return (\n        <button\n            className=\"input-search\"\n            onClick={() => {\n                sendEvent(value, dispatch);\n            }}>\n            Search now\n        </button>\n    );\n};\n\nexport default SearchButton;\n"]},"metadata":{},"sourceType":"module"}