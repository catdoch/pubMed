{"ast":null,"code":"import { getCount, updateData, getLoading } from './redux/actions';\n\nconst sendEvent = async (value, dispatch) => {\n  var _json$esearchresult, _json$esearchresult2;\n\n  dispatch(getLoading(true));\n  const response = await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&retmax=20&retmode=json&term=${value}`);\n  const json = await response.json();\n  dispatch(getCount(json === null || json === void 0 ? void 0 : (_json$esearchresult = json.esearchresult) === null || _json$esearchresult === void 0 ? void 0 : _json$esearchresult.count));\n  listJournalsEvent(json === null || json === void 0 ? void 0 : (_json$esearchresult2 = json.esearchresult) === null || _json$esearchresult2 === void 0 ? void 0 : _json$esearchresult2.idlist, dispatch);\n};\n\nconst listJournalsEvent = async (ids, dispatch) => {\n  const idJoin = ids.join(',');\n  const response = await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json&id=${idJoin}`);\n  const json = await response.json();\n  dispatch(updateData(json.result));\n  dispatch(getLoading(false));\n};\n\nexport { sendEvent };","map":{"version":3,"sources":["/Users/cdocherty/Projects/pubMed/app/src/util/api.ts"],"names":["getCount","updateData","getLoading","sendEvent","value","dispatch","response","fetch","json","esearchresult","count","listJournalsEvent","idlist","ids","idJoin","join","result"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,UAAnB,EAA+BC,UAA/B,QAAiD,iBAAjD;;AAEA,MAAMC,SAAS,GAAG,OAAOC,KAAP,EAAkCC,QAAlC,KAAsE;AAAA;;AACpFA,EAAAA,QAAQ,CAACH,UAAU,CAAC,IAAD,CAAX,CAAR;AACA,QAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAE,oGAAmGH,KAAM,EAA3G,CAA5B;AACA,QAAMI,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAT,EAAnB;AACAH,EAAAA,QAAQ,CAACL,QAAQ,CAACQ,IAAD,aAACA,IAAD,8CAACA,IAAI,CAAEC,aAAP,wDAAC,oBAAqBC,KAAtB,CAAT,CAAR;AACAC,EAAAA,iBAAiB,CAACH,IAAD,aAACA,IAAD,+CAACA,IAAI,CAAEC,aAAP,yDAAC,qBAAqBG,MAAtB,EAA8BP,QAA9B,CAAjB;AACH,CAND;;AAQA,MAAMM,iBAAiB,GAAG,OAAME,GAAN,EAAqBR,QAArB,KAAyD;AAC/E,QAAMS,MAAM,GAAGD,GAAG,CAACE,IAAJ,CAAS,GAAT,CAAf;AAEA,QAAMT,QAAQ,GAAG,MAAMC,KAAK,CAAE,yFAAwFO,MAAO,EAAjG,CAA5B;AACA,QAAMN,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAT,EAAnB;AAEAH,EAAAA,QAAQ,CAACJ,UAAU,CAACO,IAAI,CAACQ,MAAN,CAAX,CAAR;AACAX,EAAAA,QAAQ,CAACH,UAAU,CAAC,KAAD,CAAX,CAAR;AACH,CARD;;AAWA,SAASC,SAAT","sourcesContent":["import { getCount, updateData, getLoading } from './redux/actions';\n\nconst sendEvent = async (value: string | undefined, dispatch: (action: any) => void) => {\n    dispatch(getLoading(true));\n    const response = await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&retmax=20&retmode=json&term=${value}`);\n    const json = await response.json();\n    dispatch(getCount(json?.esearchresult?.count));\n    listJournalsEvent(json?.esearchresult?.idlist, dispatch);\n};\n\nconst listJournalsEvent = async(ids: [string], dispatch: (action: any) => void) => {\n    const idJoin = ids.join(',');\n\n    const response = await fetch(`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json&id=${idJoin}`);\n    const json = await response.json();\n    \n    dispatch(updateData(json.result));\n    dispatch(getLoading(false));\n};\n\n\nexport { sendEvent };"]},"metadata":{},"sourceType":"module"}